## 테스트 코드 작성하기

혼자서 공부하는데 있어서 TDD 및 테스트 코드 작성은 늘 골칫거리였다.중요한 개념이라고 생각하면서도 막상 손대기에는 귀찮기도 했던.. 마냥 피할 수는 없으니 이참에 이렇게 공부할 겸 기록을 정리해본다.

작업하는 프로젝트 중 하나인 간단한 자동차 경주 만들기 과정 중, 시작 준비 단계에서 테스트 코드를 먼저 감을 잡은 뒤 넘어가고자 한다.

---

테스트 코드 작성방법

단위테스트는 거의 given-when-then 패턴으로 작성하는 추세임.
given (준비) : 어떤 데이터가 준비됨
when (실행) : 어떤 함수를 실행함
then (검증) : 어떤 결과가 나와야함

```java

@DisplayName("로또번호 테스트")
@Test
void lottoNumberSizeTest() {
	// given

	// when

	// then
}

```

@Test는 해당 메소드가 단위테스트임을 명시하는 어노테이션.
Junit의 경우에는 테스트 패키지 하위에 속한 @Test 어노테이션이 붙은 메소드들을 **단위 테스트**로 인식하여 실행시킨다.

위의 코드 상태로 시작하면 함수 이름이 기본값(함수 이름)으로 지정되는데 DisplayName을 통해서 확인하게 좋도록 표시할 수 있다.

우선 개인적으로 생성해본 테스트 코드는 성공적으로 동작하는 것을 확인할 수 있었다.
그런데 신기한 점은 기존에 작성되어있던 테스트 코드가 에러를 발생시키고 있었다는 점.

문제를 확인해봐야한다. 여러 곳에서 문제를 확인해본 결과 
1. JUnit5쪽 문제 
2. pom.xml에서 의존성 설정을 안했다
3. 기본 설정 - 빌드 - 테스트 실행 툴을 Gradle이 아닌 IntelliJ로 변경하기

이정도의 내용으로 검색되었는데.. 
글세 아직 새로 만든 테스트 코드 외에는 제대로 먹히지는 않았다.
먼저 3번은 해봤으나 실패.


관련해서 계속 내용을 검색하는 중이다. 

약간 샛길로 빠지는 듯 하지만 추가 내용을 기입해본다.


## 자바의 main메서드

- 프로그램을 시작하고, 구현한 프로그램을 테스트하는 용도로 사용한다.
    - production code : 프로그램 구현을 담당하는 코드
    - test code : production code가 정상 동작하는지를 확인하는 코드

평소 테스트코드가 중요하다는 부분은 알고는 있지만 정확하게 이해했다고는 할 수 없었다.
다만 내용들을 검색 및 조사하면서 떠오른 부분이 있다면, 테스트 코드는 그저 개별적인 메서드를 테스트 하는 과정을 의미하는 것이며, 각각의 메서드가 정상적으로 돌아가는지를 
**부분적**으로 판단할 수 있는 과정이라 생각하게 되었다.

우리는 프로그램을 제작하는데 있어 전체적인 프로세스를 완성해야하지만, 그 구성요소인 개별의 메서드들의 완성도를 파악하기 위해 늘 전체 프로세스를 돌리는 비효율적인 활동을 지양해야 한다.
또한 전체 프로세스를 거쳐 테스트 코드를 진행하게 된다면 오히려 주변 다른 값의 영향을 받아 해당 메서드가 제대로 동작하는지를 파악하기 힘들 수가 있기 때문에 메서드들 개별적인 확인을 할 수 있도록 조치를 취해야 한다. 그것을 위해 개발자들은 제작된 production code를 test코드로 따로 빼내어 값을 넣어주고 동작한 뒤 결과값을 확인하는 검증과정을 제공해준다는 의미로 받아들이게 되었다.

다시 찾아낸 내용으로 돌아가서..
---

## main 메서드로 테스트를 하는 경우의 문제점이 있다.

    1. 클래스 및 main 메서드가 커져서 복잡도가 증가한다.
    2. 한 메서드에 여려 테스트코드가 있어서 어떤 테스트가 이루어진 것인지 알기가 어렵다.
    3. 테스트 결과를 콘솔에서 일일이 사람이 확인해야할 수 있다.
    4. 테스트코드가 production code와 함께 배포될 수 있다.

위 내용에서는 약간 주제가 벗어나는 경우이긴 하지만. main 메서드에서 테스트코드를 검증하는 경우의 문제점을 이야기하는 것으로 보인다. 기본적으로 내가 공부하고 참고하는 코드의 경우에는 JUnit을 활용하여 기본적으로 개별 테스트코드 클래스가 완성되어 있었다.
그 부분에 대한 필요성을 다시 한 번 정립해주는 것으로 이해하고 넘어가야지.

즉 위에서 내가 접한 테스트코드 오류의 경우에는 사실 해당 내용을 지우고 새롭게 테스트코드 클래스를 생성하는 것도 방법이 될 수 있겠다.
